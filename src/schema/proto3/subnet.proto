syntax = "proto3";

package aliothcontroller;

option java_package = "com.futurewei.alioth.controller.schema";
option java_outer_classname = "Subnet";

import "common.proto";

message SubnetConfiguration {
  string project_id = 1;
  string vpc_id = 2;
  string id = 3;
  string name = 4;
  string cidr = 5;
  
  string gateway_ip = 6;
  bool dhcp_enable = 7;
  string availability_zone = 8;
  string primary_dns = 9;
  string secondary_dns = 10;

  message DnsEntry {
    string entry = 1;
  }

  message SecurityGroupId {
    string id = 1;
  }

  message TransitSwitchIp {
    string vpc_id = 1;
    string subnet_id = 2;
    string ip_address = 3;
  }

  repeated DnsEntry dns_list = 11;
  repeated SecurityGroupId security_group_ids = 12;
  repeated TransitSwitchIp transit_switch_ips = 13;
}
message SubnetState {
  OperationType operation_type = 1;
  SubnetConfiguration configuration = 2;
}
